@startuml

class VoiceAssistant {
	listen()
}


class ChessEngine {
	ponder(Board, Color)
	ponderPosition(Board, Color, BoardPosition)
}

UCIChessEngine -> ChessEngine

class Color <<enumeration>> {
	White
	Black
}

class ChessPieceKind <<enumeration>> {
	Pawn
	King
	Queen
	Bishop
	Knight
	Rook
}

class ChessPiece {
	color: Color
	kind:  ChessPieceKind
}

Board *-- "2..*" ChessPiece
Board -> Serializable

class BoardPosition {
	row:    unsigned int
	column: unsigned int
}

class Board {
	movePiece(BoardPosition, BoardPosition)
	clearPieces()
	getPiece(BoardPosition)
}

class Game {
	halfTurn: Color
	turnNumber: unsigned int

	duration()
	save()
	queryAttackers(BoardPosition)
	queryPiece(BoardPosition)
	queryMaterial()
	forfeit(Color)
	undoMove()
}

Game -> Serializable

class GameSnapshot {
	save()
	getBoard()
	getTime()
	getHalfTurn()
}

GameSnapshot -> Serializable

class GameHistory {
	save()
	load()
	snapshotCount()
	getSnapshot(int)
}
GameHistory -> Serializable

Game *-- "1" GameHistory
GameHistory *-- "*" GameSnapshot

Game *-- "1" Board

TimedGame    -> Game
CustomGame   -> Game
StandardGame -> TimedGame
BlitzGame    -> TimedGame

Session *-- "0..1" Game

Session *-- "1" VoiceAssistant
Session *-- "1" ChessEngine

class GameOptions {
	allottedTime: unsigned int?
	initialBoard: Board
}

class Session {
	receiveCommand()
	receiveVocalCommand()
	createNewGame(GameOptions)
	forfeitGame(Color)
	closeActiveGame()
}

class Player {

}

class EnginePlayer -> Player
class HumanPlayer -> Player

Game *-- "2" Player

class Serializable {
	serialize()
}

class MaterialCounter {
	countInstances(ChessPiece)
}

Game *-- "2" MaterialCounter

MaterialCounter *-- "*" ChessPiece



@enduml
